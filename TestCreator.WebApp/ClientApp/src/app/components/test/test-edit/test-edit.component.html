<div class="test-edit">
  <h2>{{title}}</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" [ngClass]="{ 'has-error has-feedback' : hasError('Title') }"
        class="was-validated">
    <div class="form-group">
      <label for="Title">Title</label>
      <br />
      <input type="text" id="Title" formControlName="Title" required placeholder="Enter title here..." class="form-control" />
      <div *ngIf="hasError('Title')"
           class="form-text">
        This field is required. Please enter correct title.
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <br />
      <input type="text" id="description" formControlName="Description" placeholder="Enter description here..." class="form-control" />
    </div>
    <div class="form-group">
      <label for="text">Additional information</label>
      <br />
      <textarea id="text" formControlName="Text" placeholder="Enter text here..." class="form-control"></textarea>
    </div>
    <div class="form-group commands">
      <button *ngIf="editMode" type="submit" [disabled]="form.invalid" class="btn btn-primary">
        Save changes
      </button>
      <button *ngIf="!editMode" type="submit" [disabled]="form.invalid" class="btn btn-primary">
        Add test
      </button>
      <button *ngIf="!editMode" type="submit" (click)="onBack()" class="btn btn-dark">
        Cancel
      </button>
    </div>
  </form>

  <question-list [test]="test" *ngIf="editMode"></question-list>
  <result-list [test]="test" *ngIf="editMode"></result-list>

  <div class="accordion" id="accordion">
    <div class="card" style="margin: 20px">
      <div class="card-header" id="heading">
        <h5 class="mb-0">
          <button class="btn btn-link collapsed" type="button" data-toggle="collapse" data-target="#collapse" aria-expanded="true" aria-controls="collapse">
            Form debugging
          </button>
        </h5>
      </div>
      <div id="collapse" class="collapse show" aria-labelledby="heading" data-parent="#accordion">
        <div class="card-body">
          <p><strong>Form values</strong></p>
          <div class="form-text">
            {{ form.value | json }}
          </div>
          <br />
          <p><strong>Form status</strong></p>
          <div class="form-text">
            {{ form.status | json }}
          </div>
          <br />
          <p><strong>Logs:</strong></p>
          <div class="form-text">
            <span *ngIf="activityLog" [innerHTML]="activityLog"></span>
          </div>
        </div>
      </div>

    </div>
  </div>

</div>

